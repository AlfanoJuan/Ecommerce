{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Juanillo\\\\Desktop\\\\BDM2\\\\front-bdm\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Index from \"./components/index.jsx\";\nimport Footer from \"./components/footer.jsx\";\nimport NavbarReact from \"./components/nav.jsx\";\nimport Login from \"./components/login.jsx\";\nimport Register from \"./components/register.jsx\";\nimport Producto from \"./components/producto.jsx\";\nimport Carrito from \"./components/carrito.jsx\";\nimport Perfiles from \"./components/perfiles.jsx\";\nimport { Route, Routes, useLocation } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport EditarProducto from \"./components/edit-producto.jsx\";\nimport ElegirProducto from \"./components/elegir-producto.jsx\";\nimport Categorias from \"./components/categorias.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState({\n    usuario: '',\n    correo: '',\n    contrasena: '',\n    nombre: '',\n    apellidoP: '',\n    fnacimiento: '',\n    sexo: '',\n    rol: ''\n  });\n  const [userdata, setUserdata] = useState({\n    data: {\n      user: {\n        id_user: '',\n        usuario: '',\n        correo: '',\n        contrasena: '',\n        nombre: '',\n        apellidoP: '',\n        fnacimiento: '',\n        sexo: '',\n        rol: ''\n      }\n    }\n  });\n  const [token, setToken] = useState('');\n  useEffect(() => {\n    const storedToken = localStorage.getItem('token');\n    if (storedToken) {\n      setToken(storedToken);\n    }\n  }, []);\n  useEffect(() => {\n    const requestInit = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      },\n      body: JSON.stringify()\n    };\n    fetch('http://localhost:5000/home', requestInit).then(res => {\n      if (!res.ok) {\n        throw new Error('Error en la solicitud');\n      }\n      return res.json();\n    }).then(data => {\n      setUserdata(data);\n      console.log(data);\n    }).catch(error => {\n      console.error(error);\n    });\n    localStorage.setItem('token', token);\n  }, [token]);\n  const location = useLocation();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [location.pathname !== \"/login\" && location.pathname !== \"/register\" && /*#__PURE__*/_jsxDEV(NavbarReact, {\n      userdata: userdata,\n      setUserdata: setUserdata,\n      setToken: setToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Index, {\n          userdata: userdata\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/carrito/:id\",\n        element: /*#__PURE__*/_jsxDEV(Carrito, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/perfiles/:id\",\n        element: /*#__PURE__*/_jsxDEV(Perfiles, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/categorias\",\n        element: /*#__PURE__*/_jsxDEV(Categorias, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          user: user,\n          setUser: setUser,\n          setToken: setToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        element: /*#__PURE__*/_jsxDEV(Register, {\n          user: user,\n          setUser: setUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/producto\",\n        element: /*#__PURE__*/_jsxDEV(Producto, {\n          userdata: userdata\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/editarproducto\",\n        element: /*#__PURE__*/_jsxDEV(ElegirProducto, {\n          userdata: userdata\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/editarproducto/:id\",\n        element: /*#__PURE__*/_jsxDEV(EditarProducto, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), location.pathname !== \"/login\" && location.pathname !== \"/register\" && /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"WUEIjDC7D9UVB2O6LG6LgrqynSs=\", false, function () {\n  return [useLocation];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Index","Footer","NavbarReact","Login","Register","Producto","Carrito","Perfiles","Route","Routes","useLocation","EditarProducto","ElegirProducto","Categorias","jsxDEV","_jsxDEV","App","_s","user","setUser","usuario","correo","contrasena","nombre","apellidoP","fnacimiento","sexo","rol","userdata","setUserdata","data","id_user","token","setToken","storedToken","localStorage","getItem","requestInit","method","headers","body","JSON","stringify","fetch","then","res","ok","Error","json","console","log","catch","error","setItem","location","className","children","pathname","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","$RefreshReg$"],"sources":["C:/Users/Juanillo/Desktop/BDM2/front-bdm/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Index from \"./components/index.jsx\";\r\nimport Footer from \"./components/footer.jsx\";\r\nimport NavbarReact from \"./components/nav.jsx\";\r\nimport Login from \"./components/login.jsx\";\r\nimport Register from \"./components/register.jsx\";\r\nimport Producto from \"./components/producto.jsx\";\r\nimport Carrito from \"./components/carrito.jsx\"; \r\nimport Perfiles from \"./components/perfiles.jsx\";\r\nimport { Route, Routes, useLocation } from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport EditarProducto from \"./components/edit-producto.jsx\";\r\nimport ElegirProducto from \"./components/elegir-producto.jsx\";\r\nimport Categorias from \"./components/categorias.jsx\";\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [user, setUser] = useState({\r\n    usuario:'', \r\n    correo:'', \r\n    contrasena:'', \r\n    nombre:'', \r\n    apellidoP:'', \r\n    fnacimiento:'', \r\n    sexo:'',\r\n    rol:''\r\n  });\r\n\r\n  const [userdata, setUserdata] = useState({data:{user:{\r\n    id_user: '',\r\n    usuario:'', \r\n    correo:'', \r\n    contrasena:'', \r\n    nombre:'', \r\n    apellidoP:'', \r\n    fnacimiento:'', \r\n    sexo:'',\r\n    rol:''\r\n  }}});\r\n\r\n  const [token, setToken] = useState('');\r\n  \r\n  useEffect(() => {\r\n    const storedToken = localStorage.getItem('token');\r\n    if (storedToken) {\r\n      setToken(storedToken);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    const requestInit = {\r\n      method: 'GET',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': 'Bearer ' + token },\r\n      body: JSON.stringify()\r\n    }\r\n    fetch('http://localhost:5000/home', requestInit)\r\n    .then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error('Error en la solicitud');\r\n      }\r\n      return res.json();\r\n    })\r\n    .then((data) => { \r\n      setUserdata(data);\r\n      console.log(data);\r\n\r\n    })\r\n  .catch((error) => {\r\n\r\n    console.error(error);\r\n  });\r\n  localStorage.setItem('token', token);\r\n  }, [token]);\r\n\r\n\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {/* Renderizar NavbarReact solo si no estás en la página de inicio de sesión */}\r\n      {location.pathname !== \"/login\" && location.pathname !== \"/register\" && (\r\n        <NavbarReact  userdata={userdata} setUserdata={setUserdata} setToken={setToken}/>\r\n      )}\r\n      <Routes>\r\n        <Route path=\"/\" element={<Index userdata={userdata} />} />\r\n        <Route path=\"/carrito/:id\" element={<Carrito />} />\r\n        <Route path=\"/perfiles/:id\" element={<Perfiles />} />\r\n        <Route path=\"/categorias\" element={<Categorias />} />\r\n        <Route path=\"/login\" element={<Login user={user} setUser={setUser} setToken={setToken}/>} />\r\n        <Route path=\"/register\" element={<Register user = {user} setUser = {setUser}/>} />\r\n        <Route path=\"/producto\" element={<Producto userdata={userdata} />} />\r\n        <Route path=\"/editarproducto\" element={<ElegirProducto userdata={userdata}/>}/>\r\n        <Route path=\"/editarproducto/:id\" element={<EditarProducto/>}/>\r\n      </Routes>\r\n\r\n      {location.pathname !== \"/login\" && location.pathname !== \"/register\" && (\r\n        <Footer />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}